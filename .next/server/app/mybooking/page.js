(()=>{var e={};e.id=192,e.ids=[192],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4324:()=>{},5965:()=>{},6654:()=>{},9632:(e,s,i)=>{Promise.resolve().then(i.bind(i,76191))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},10895:()=>{},11379:()=>{},12412:e=>{"use strict";e.exports=require("assert")},13017:()=>{},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},25682:()=>{},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28707:()=>{},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29339:()=>{},33873:e=>{"use strict";e.exports=require("path")},42507:()=>{},55010:()=>{},55224:()=>{},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},55830:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63773:(e,s,i)=>{"use strict";i.r(s),i.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>u,tree:()=>l});var r=i(70260),t=i(28203),a=i(25155),n=i.n(a),o=i(67292),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);i.d(s,d);let l={children:["",{children:["mybooking",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,76191)),"D:\\Project\\urido-frontend\\src\\app\\mybooking\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,62804)),"D:\\Project\\urido-frontend\\src\\app\\layout.js"],loading:[()=>Promise.resolve().then(i.bind(i,18988)),"D:\\Project\\urido-frontend\\src\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(i.t.bind(i,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(i.t.bind(i,41485,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["D:\\Project\\urido-frontend\\src\\app\\mybooking\\page.js"],h={require:i,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/mybooking/page",pathname:"/mybooking",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},74075:e=>{"use strict";e.exports=require("zlib")},76191:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>r});let r=(0,i(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Project\\\\urido-frontend\\\\src\\\\app\\\\mybooking\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Project\\urido-frontend\\src\\app\\mybooking\\page.js","default")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},85552:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>R});var r=i(45512),t=i(58009),a=i(85668),n=i(92273),o=i(60954);i(10895);var d=i(79334);let l=()=>{let{isLoggedIn:e}=(0,n.d4)(e=>e.auth),s=(0,n.wA)(),i=(0,d.useRouter)();return(0,r.jsxs)("div",{className:"no-bookings-box",children:[(0,r.jsx)("h4",{className:"no-bookings-box-heading",children:e?"No Upcoming Bookings":"You Are Not Signed In"}),(0,r.jsx)("p",{className:"no-bookings-box-para",children:e?"You donâ€™t have any upcoming rides scheduled. Book now to plan your next journey!":"Please sign in to view and manage your bookings effortlessly."}),(0,r.jsx)("button",{onClick:()=>{e||s((0,o.L$)()),e&&i.push("/")},className:"no-bookings-box-button",children:e?"Get Ride":"Sign In"})]})};i(13017);var c=i(45103);i(55830),i(55224);let h=({status:e})=>(0,r.jsxs)("div",{className:"rideStatus-container",children:[(0,r.jsx)("h5",{className:"rideStatus-header",children:"Status : "}),(0,r.jsx)("p",{className:"rideStatus-para",children:e})]}),u=({vehicle:e,price:s,status:i,passengerCount:t,luggageCount:a})=>(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"upComingBooking-vehicle-details-row",children:[(0,r.jsx)("div",{className:"upComingBooking-vehicle-image-wrapper",children:(0,r.jsx)(c.default,{src:"/ride-history-car.png",alt:"car",height:47,width:52,className:"upComingBooking-vehicle-image"})}),(0,r.jsxs)("div",{className:"upComingBooking-vehicles-details",children:[(0,r.jsx)("h5",{className:"upComingBooking-vehicle-name",children:e}),(0,r.jsxs)("div",{className:"upComingBooking-vehicle-capacity",children:[(0,r.jsxs)("div",{className:"upComingBooking-vehicle-capacity-detail",children:[(0,r.jsx)(c.default,{src:"/passenger.png",alt:"passenger",height:18,width:19}),(0,r.jsx)("h5",{className:"upComingBooking-vehicle-passengers",children:t})]}),(0,r.jsx)("span",{children:"."}),(0,r.jsxs)("div",{className:"upComingBooking-vehicle-capacity-detail",children:[(0,r.jsx)(c.default,{src:"/luggage.png",alt:"luggage",height:18,width:18}),(0,r.jsx)("h5",{className:"upComingBooking-vehicle-luggage",children:a})]}),(0,r.jsx)("span",{children:"."}),(0,r.jsxs)("div",{className:"ride-history-price",children:[(0,r.jsx)(c.default,{src:"/money-send-square.png",alt:"payment",height:18,width:18}),s]})]}),(0,r.jsx)(h,{status:i})]})]})});i(6654);var g=i(97465);let p=({date:e,time:s})=>{let i=(0,g.Yq)(e),t=(0,g.fU)(s);return(0,r.jsx)("div",{className:"upComingRide-date-row",children:(0,r.jsxs)("div",{className:"upComingRide-date-box",children:[(0,r.jsxs)("div",{className:"upComingRide-date",children:[(0,r.jsx)(c.default,{src:"/calender-golden.png",alt:"calendar",height:18,width:18}),i]}),(0,r.jsx)("span",{className:"upComingRide-dot",children:"."}),(0,r.jsxs)("div",{className:"upComingRide-time",children:[(0,r.jsx)(c.default,{src:"/clock-golden.png",alt:"clock",height:18,width:18}),t]})]})})};i(55010);let m=({from:e,to:s})=>(0,r.jsxs)("div",{className:"upComingRide-location-details",children:[(0,r.jsxs)("div",{className:"upComingRide-location-heading-row",children:[(0,r.jsx)(c.default,{src:"/location-gold.png",alt:"from",height:18,width:18}),(0,r.jsx)("h5",{className:"upComingRide-heading-from",children:"FROM :"})]}),(0,r.jsx)("p",{className:"upComingRide-location-para",children:e}),(0,r.jsxs)("div",{className:"upComingRide-location-heading-row",children:[(0,r.jsx)(c.default,{src:"/location-gold.png",alt:"to",height:18,width:18}),(0,r.jsx)("h5",{className:"upComingRide-heading-to",children:"TO :"})]}),(0,r.jsx)("p",{className:"upComingRide-location-para",children:s})]});i(25682);let x=({returnDate:e,returnTime:s})=>{let i=e?(0,g.Yq)(e):null,t=s?(0,g.fU)(s):null;return(0,r.jsxs)("div",{className:"upComingRide-return-box",children:[(0,r.jsx)("h5",{className:"upComingRide-return-heading",children:"Return Schedule :"}),e?(0,r.jsxs)("div",{className:"upComingRide-return-date-box",children:[(0,r.jsxs)("div",{className:"upComingRide-date",children:[(0,r.jsx)(c.default,{src:"/calendar.png",alt:"calendar",height:18,width:18}),i]}),(0,r.jsx)("span",{children:"."}),(0,r.jsxs)("div",{className:"upComingRide-time",children:[(0,r.jsx)(c.default,{src:"/clock.png",alt:"clock",height:18,width:18}),t]})]}):(0,r.jsx)("p",{className:"upComingRide-no-return",children:"No Return Schedule"})]})},j=({rideData:e})=>(0,r.jsx)("div",{className:"upComingBookings-container",children:e.map((e,s)=>(0,r.jsxs)("div",{className:"upComingBookings-box",children:[(0,r.jsxs)("div",{className:"ride-dateAndReturn-column",children:[(0,r.jsx)(p,{date:e.bookingDate,time:e.bookingTime}),(0,r.jsx)(x,{returnDate:e.returnDate,returnTime:e.returnTime})]}),(0,r.jsx)(m,{from:e.fromLocation,to:e.toLocation}),(0,r.jsx)(u,{vehicle:e.vehicleName,price:e.totalFare,status:e.status,passengerCount:e.luggageAndPassenger.passengerCount,luggageCount:e.luggageAndPassenger.luggageCount})]},s))});i(91151);let v=({rideData:e})=>(0,r.jsxs)("div",{className:"myBookingPage-container",children:[(0,r.jsx)("h2",{className:"myBookingPage-heading",children:"Upcoming Rides"}),e.length>0?(0,r.jsx)(j,{rideData:e}):(0,r.jsx)(l,{})]});i(4324),i(28707);let N=({from:e,to:s})=>(0,r.jsxs)("div",{className:"ride-history-location-details",children:[(0,r.jsxs)("div",{className:"ride-history-location-heading-row",children:[(0,r.jsx)(c.default,{src:"/location-gray.png",alt:"from",height:18,width:18}),(0,r.jsx)("h5",{className:"ride-history-heading-from",children:"FROM :"})]}),(0,r.jsx)("p",{className:"ride-history-location-para",children:e}),(0,r.jsxs)("div",{className:"ride-history-location-heading-row",children:[(0,r.jsx)(c.default,{src:"/location-gray.png",alt:"to",height:18,width:18}),(0,r.jsx)("h5",{className:"ride-history-heading-to",children:"TO :"})]}),(0,r.jsx)("p",{className:"ride-history-location-para",children:s})]});i(5965);let y=({vehicle:e,passengerCount:s,luggageCount:i})=>(0,r.jsxs)("div",{className:"ride-history-vehicle-details-row",children:[(0,r.jsx)("div",{className:"ride-history-vehicle-image-wrapper",children:(0,r.jsx)(c.default,{src:"/ride-history-car.png",alt:"car",height:47,width:52,className:"ride-history-vehicle-image"})}),(0,r.jsxs)("div",{className:"ride-history-vehicles-details",children:[(0,r.jsxs)("div",{className:"ride-history-vehicleAndReview",children:[(0,r.jsx)("h5",{className:"ride-history-vehicle-name",children:e}),(0,r.jsx)("span",{children:"."}),(0,r.jsx)(c.default,{src:"/star.png",alt:"star",height:21,width:21}),(0,r.jsx)("p",{className:"ride-history-review-stars",children:e.reviewStars})]}),(0,r.jsxs)("div",{className:"ride-history-vehicle-capacity",children:[(0,r.jsxs)("div",{className:"ride-history-capacity-detail",children:[(0,r.jsx)(c.default,{src:"/passenger.png",alt:"passenger",height:18,width:18}),(0,r.jsx)("span",{children:":"}),(0,r.jsx)("h5",{className:"ride-history-vehicle-passengers",children:s})]}),(0,r.jsx)("span",{className:"ride-history-capacity-detail-divider",children:"."}),(0,r.jsxs)("div",{className:"ride-history-capacity-detail",children:[(0,r.jsx)(c.default,{src:"/luggage.png",alt:"luggage",height:18,width:18}),(0,r.jsx)("span",{children:":"}),(0,r.jsx)("h5",{className:"ride-history-vehicle-luggage",children:i})]})]})]})]});i(29339);let f=({returnDate:e,returnTime:s})=>{let i=e?(0,g.Yq)(e):null,t=s?(0,g.fU)(s):null;return(0,r.jsxs)("div",{className:"ride-history-return-box",children:[(0,r.jsx)("h5",{className:"ride-history-return-heading",children:"Return Schedule :"}),e?(0,r.jsxs)("div",{className:"ride-history-return-date-box",children:[(0,r.jsxs)("div",{className:"ride-history-date",children:[(0,r.jsx)(c.default,{src:"/calendar.png",alt:"calendar",height:18,width:18}),i]}),(0,r.jsx)("span",{children:"."}),(0,r.jsxs)("div",{className:"ride-history-time",children:[(0,r.jsx)(c.default,{src:"/clock.png",alt:"clock",height:18,width:18}),t]})]}):(0,r.jsx)("p",{className:"ride-history-no-return",children:"No Return Schedule"})]})};i(11379);let k=({price:e})=>(0,r.jsxs)("div",{className:"ride-history-price",children:[(0,r.jsx)(c.default,{src:"/money-send-square.png",alt:"payment",height:22,width:22}),(0,r.jsx)("span",{children:e})]});i(42507);let b=({date:e,time:s})=>{let i=(0,g.Yq)(e),t=(0,g.fU)(s);return(0,r.jsx)("div",{className:"ride-history-date-row",children:(0,r.jsxs)("div",{className:"ride-history-date-box",children:[(0,r.jsxs)("div",{className:"ride-history-date",children:[(0,r.jsx)(c.default,{src:"/calender-golden.png",alt:"calendar",height:18,width:18}),i]}),(0,r.jsx)("span",{className:"ride-history-dot",children:"."}),(0,r.jsxs)("div",{className:"ride-history-time",children:[(0,r.jsx)(c.default,{src:"/clock-golden.png",alt:"clock",height:18,width:18}),t]})]})})},C=({rideData:e})=>(0,r.jsxs)("div",{className:"ride-history-wrapper",children:[(0,r.jsx)("h2",{className:"ride-history-heading",children:"Ride History"}),(0,r.jsx)("div",{className:"ride-history-container",children:e?.map((e,s)=>r.jsxs("div",{className:"ride-history-box",children:[r.jsxs("div",{className:"ride-history-price-date-row",children:[r.jsx(b,{date:e.bookingDate,time:e.bookingTime}),r.jsx(k,{price:e.totalFare})]}),r.jsx(N,{from:e.fromLocation,to:e.toLocation}),r.jsx(y,{vehicle:e.vehicleName,passengerCount:e.luggageAndPassenger.passengerCount,luggageCount:e.luggageAndPassenger.luggageCount}),r.jsx(f,{returnDate:e.returnDate,returnTime:e.returnTime})]},s))})]});var w=i(25998);let R=()=>{let e=(0,n.d4)(e=>e.auth.isLoggedIn),[s,i]=(0,t.useState)([]),[o,d]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null);if((0,t.useEffect)(()=>{if(!e){d(!1),i([]);return}(async()=>{try{let e=w.A.get("accessToken");if(!e){console.error("No access token found in cookies");return}let s=await a.A.get("https://api.urido.co.uk/booking/my-bookings",{headers:{Authorization:`Bearer ${e}`}});s.data.success&&(i(s.data.data),d(!1))}catch(e){c(e)}finally{d(!1)}})()},[e]),o)return(0,r.jsx)("div",{className:"loading-container",children:"Loading..."});if(l)return(0,r.jsxs)("div",{className:"error-container",children:["Error: ",l.message]});let h=["Pending","Process","Accepted"],u=["Completed","Rejected","Canceled"],g=s.filter(e=>h.includes(e?.status)),p=s.filter(e=>u.includes(e?.status));return(0,r.jsxs)("div",{children:[(0,r.jsx)(v,{rideData:g}),p.length>0&&(0,r.jsx)(C,{rideData:p})]})}},91151:()=>{},94735:e=>{"use strict";e.exports=require("events")},96480:(e,s,i)=>{Promise.resolve().then(i.bind(i,85552))}};var s=require("../../webpack-runtime.js");s.C(e);var i=e=>s(s.s=e),r=s.X(0,[994,935,149],()=>i(63773));module.exports=r})();