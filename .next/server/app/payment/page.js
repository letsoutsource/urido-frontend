(()=>{var e={};e.id=407,e.ids=[407],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22239:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=a(70260),n=a(28203),t=a(25155),i=a.n(t),l=a(67292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(s,o);let d={children:["",{children:["payment",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,88454)),"D:\\Project\\urido-frontend\\src\\app\\payment\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,62804)),"D:\\Project\\urido-frontend\\src\\app\\layout.js"],loading:[()=>Promise.resolve().then(a.bind(a,18988)),"D:\\Project\\urido-frontend\\src\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,41485,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["D:\\Project\\urido-frontend\\src\\app\\payment\\page.js"],m={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/payment/page",pathname:"/payment",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27030:(e,s,a)=>{Promise.resolve().then(a.bind(a,55559))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32380:(e,s,a)=>{"use strict";a.d(s,{default:()=>h});var r=a(45512),n=a(58009),t=a(52414),i=a(23904);function l(e){return(0,i.k5)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},child:[]}]})(e)}a(72406);var o=a(92273),d=a(79334),c=a(12454),m=a(97465),p=a(25998),u=a(4044);let h=()=>{let e=(0,d.useRouter)(),s=(0,o.wA)(),a=(0,o.d4)(e=>e.booking.bookingData),{isLoggedIn:i}=(0,o.d4)(e=>e.auth),[h,x]=(0,n.useState)(!1),[j,v]=(0,n.useState)(!1),[g,b]=(0,n.useState)({username:"",email:"",phone:""});if((0,n.useEffect)(()=>{if(null==a)e.push("/");else{let e=p.A.get("accessToken");if(e){let s=(0,m.oL)(e);s&&b({username:s.userName||"",email:s.email||"",phone:s.phone||""})}}},[a,e]),null==a)return null;let N=async()=>{try{v(!0);let r=parseFloat(a.distance.replace(/[^\d.-]/g,"")),n={...a,distance:r,passengerName:g.username,passengerEmail:g.email,passengerPhone:g.phone};await (0,m.sH)(n),s((0,u.iD)({email:g.email,userName:g.username,phone:g.phone})),c.oR.success("Booking Created Successfully!"),e.push("/mybooking")}catch(e){console.error("Error processing payment:",e),c.oR.error("Failed to process payment."),v(!1)}};return(0,r.jsx)("div",{className:"payment-container",children:(0,r.jsxs)("div",{className:"payment-wrapper",children:[(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("h2",{children:"Passenger Details"})}),(0,r.jsx)("div",{className:"card-content",children:(0,r.jsxs)("div",{className:"passenger-details",children:[(0,r.jsxs)("div",{className:"passenger-field",children:[(0,r.jsx)("label",{htmlFor:"username",children:"Passenger"}),(0,r.jsx)("input",{type:"text",id:"username",value:g?.username,onChange:e=>{b(s=>({...s,username:e.target.value}))},className:"passenger-input",placeholder:"Enter your name",autoFocus:!0})]}),(0,r.jsxs)("div",{className:"passenger-field",children:[(0,r.jsx)("label",{htmlFor:"email",children:"Email"}),(0,r.jsx)("input",{type:"email",id:"email",value:g?.email,onChange:e=>{b(s=>({...s,email:e.target.value}))},className:"passenger-input",placeholder:"Enter your email",disabled:i})]}),(0,r.jsxs)("div",{className:"passenger-field",children:[(0,r.jsx)("label",{htmlFor:"phone",children:"Phone"}),(0,r.jsx)("input",{type:"text",id:"phone",value:g?.phone,onChange:e=>{b(s=>({...s,phone:e.target.value}))},className:"passenger-input",placeholder:"Enter your phone number",disabled:i})]})]})})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("h2",{children:"Booking Summary"})}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsxs)("div",{className:"booking-grid",children:[(0,r.jsxs)("div",{className:"booking-item",children:[(0,r.jsx)("div",{className:"booking-label",children:"From"}),(0,r.jsx)("div",{className:"booking-value",children:a.fromLocation})]}),(0,r.jsxs)("div",{className:"booking-item",children:[(0,r.jsx)("div",{className:"booking-label",children:"To"}),(0,r.jsx)("div",{className:"booking-value",children:a.toLocation})]}),(0,r.jsxs)("div",{className:"booking-item",children:[(0,r.jsx)("div",{className:"booking-label",children:"Date"}),(0,r.jsx)("div",{className:"booking-value",children:a.bookingDate})]}),(0,r.jsxs)("div",{className:"booking-item",children:[(0,r.jsx)("div",{className:"booking-label",children:"Time"}),(0,r.jsx)("div",{className:"booking-value",children:a.bookingTime})]}),a.returnDate&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"booking-item",children:[(0,r.jsx)("div",{className:"booking-label",children:"Return Date"}),(0,r.jsx)("div",{className:"booking-value",children:a.returnDate})]}),(0,r.jsxs)("div",{className:"booking-item",children:[(0,r.jsx)("div",{className:"booking-label",children:"Return Time"}),(0,r.jsx)("div",{className:"booking-value",children:a.returnTime})]})]})]}),(0,r.jsx)("div",{className:"separator"}),(0,r.jsxs)("div",{className:"summary-details",children:[(0,r.jsxs)("div",{className:"summary-row",children:[(0,r.jsx)("span",{className:"label",children:"Vehicle"}),(0,r.jsx)("span",{children:a.vehicleName})]}),(0,r.jsxs)("div",{className:"summary-row",children:[(0,r.jsx)("span",{className:"label",children:"Distance"}),(0,r.jsx)("span",{children:a.distance})]}),(0,r.jsxs)("div",{className:"summary-row",children:[(0,r.jsx)("span",{className:"label",children:"Travel Duration"}),(0,r.jsx)("span",{children:a.travelDuration})]}),(0,r.jsxs)("div",{className:"summary-row",children:[(0,r.jsx)("span",{className:"label",children:"Passengers"}),(0,r.jsx)("span",{children:a.passengerCount})]}),(0,r.jsxs)("div",{className:"summary-row",children:[(0,r.jsx)("span",{className:"label",children:"Luggage"}),(0,r.jsx)("span",{children:a.luggageCount})]})]}),(0,r.jsx)("div",{className:"separator"}),(0,r.jsxs)("div",{className:"total-row",children:[(0,r.jsx)("span",{children:"Total Amount"}),(0,r.jsxs)("span",{children:["$",a.totalFare]})]})]})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("h2",{children:"Select Payment Method"})}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsxs)("div",{className:"payment-methods",children:[(0,r.jsxs)("div",{className:"payment-method-option disabled",children:[(0,r.jsx)("input",{type:"radio",className:"payment-method-radio",disabled:!0}),(0,r.jsxs)("div",{className:"payment-method-label",children:[(0,r.jsx)(t.x1c,{className:"icon"}),(0,r.jsx)("span",{children:"Credit/Debit Card (Disabled)"})]})]}),(0,r.jsxs)("div",{className:"payment-method-option selected",children:[(0,r.jsx)("input",{type:"radio",className:"payment-method-radio",checked:!0,readOnly:!0}),(0,r.jsxs)("div",{className:"payment-method-label",children:[(0,r.jsx)(t.lcY,{className:"icon"}),(0,r.jsx)("span",{children:"Cash Payment"})]})]})]}),h?(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"confirmation-message",children:"Please confirm your cash payment on delivery"}),(0,r.jsx)("button",{className:"button button-primary",onClick:N,disabled:j,children:j?"Processing...":"Confirm Payment"}),(0,r.jsx)("button",{className:"button button-outline",onClick:()=>x(!1),disabled:j,children:"Back"})]}):(0,r.jsxs)("button",{className:"button button-primary",onClick:()=>{x(!0)},children:["Continue to Payment",(0,r.jsx)(l,{})]})]})]})]})})}},33873:e=>{"use strict";e.exports=require("path")},50590:(e,s,a)=>{Promise.resolve().then(a.bind(a,32380))},55511:e=>{"use strict";e.exports=require("crypto")},55559:(e,s,a)=>{"use strict";a.d(s,{default:()=>r});let r=(0,a(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Project\\\\urido-frontend\\\\src\\\\app\\\\components\\\\paymentPageComponents\\\\Payment.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Project\\urido-frontend\\src\\app\\components\\paymentPageComponents\\Payment.jsx","default")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},72406:()=>{},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},88454:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});var r=a(62740);a(76301);var n=a(55559);let t=()=>(0,r.jsx)("div",{children:(0,r.jsx)(n.default,{})})},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[994,935,149],()=>a(22239));module.exports=r})();