(()=>{var e={};e.id=407,e.ids=[407],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22239:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=r(70260),n=r(28203),t=r(25155),i=r.n(t),l=r(67292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(s,o);let d={children:["",{children:["payment",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,88454)),"D:\\Project\\urido-frontend\\src\\app\\payment\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,62804)),"D:\\Project\\urido-frontend\\src\\app\\layout.js"],loading:[()=>Promise.resolve().then(r.bind(r,18988)),"D:\\Project\\urido-frontend\\src\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["D:\\Project\\urido-frontend\\src\\app\\payment\\page.js"],m={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/payment/page",pathname:"/payment",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27030:(e,s,r)=>{Promise.resolve().then(r.bind(r,55559))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32380:(e,s,r)=>{"use strict";r.d(s,{default:()=>u});var a=r(45512),n=r(58009),t=r(52414),i=r(23904);function l(e){return(0,i.k5)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},child:[]}]})(e)}r(72406);var o=r(92273),d=r(79334),c=r(12454),m=r(97465),p=r(25998);let u=()=>{let e=(0,d.useRouter)(),s=(0,o.d4)(e=>e.booking.bookingData),[r,i]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1),[x,j]=(0,n.useState)({username:"",email:"",phone:""});if((0,n.useEffect)(()=>{if(null==s)e.push("/");else{let e=p.A.get("accessToken");if(e){let s=(0,m.oL)(e);s&&j({username:s.userName||"",email:s.email||"",phone:s.phone||""})}}},[s,e]),null==s)return null;let v=async()=>{try{h(!0);let r=parseFloat(s.distance.replace(/[^\d.-]/g,"")),a={...s,distance:r,passengerName:x.username,passengerEmail:x.email,passengerPhone:x.phone};await (0,m.sH)(a),c.oR.success("Booking Created Successfully!"),e.push("/mybooking")}catch(e){console.error("Error processing payment:",e),c.oR.error("Failed to process payment."),h(!1)}};return(0,a.jsx)("div",{className:"payment-container",children:(0,a.jsxs)("div",{className:"payment-wrapper",children:[(0,a.jsxs)("div",{className:"payment-header",children:[(0,a.jsx)("h1",{children:"Complete Your Booking"}),(0,a.jsx)("p",{children:"Please review your booking details and select a payment method"})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h2",{children:"Passenger Details"})}),(0,a.jsx)("div",{className:"card-content",children:(0,a.jsxs)("div",{className:"passenger-details",children:[(0,a.jsxs)("div",{className:"passenger-field",children:[(0,a.jsx)("label",{htmlFor:"username",children:"Passenger"}),(0,a.jsx)("input",{type:"text",id:"username",value:x?.username,onChange:e=>{j(s=>({...s,username:e.target.value}))},className:"passenger-input",placeholder:"Enter your name",autoFocus:!0})]}),(0,a.jsxs)("div",{className:"passenger-field",children:[(0,a.jsx)("label",{children:"Email"}),(0,a.jsx)("div",{className:"passenger-readonly",children:x?.email})]}),(0,a.jsxs)("div",{className:"passenger-field",children:[(0,a.jsx)("label",{children:"Phone"}),(0,a.jsx)("div",{className:"passenger-readonly",children:x?.phone})]})]})})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h2",{children:"Booking Summary"})}),(0,a.jsxs)("div",{className:"card-content",children:[(0,a.jsxs)("div",{className:"booking-grid",children:[(0,a.jsxs)("div",{className:"booking-item",children:[(0,a.jsx)("div",{className:"booking-label",children:"From"}),(0,a.jsx)("div",{className:"booking-value",children:s.fromLocation})]}),(0,a.jsxs)("div",{className:"booking-item",children:[(0,a.jsx)("div",{className:"booking-label",children:"To"}),(0,a.jsx)("div",{className:"booking-value",children:s.toLocation})]}),(0,a.jsxs)("div",{className:"booking-item",children:[(0,a.jsx)("div",{className:"booking-label",children:"Date"}),(0,a.jsx)("div",{className:"booking-value",children:s.bookingDate})]}),(0,a.jsxs)("div",{className:"booking-item",children:[(0,a.jsx)("div",{className:"booking-label",children:"Time"}),(0,a.jsx)("div",{className:"booking-value",children:s.bookingTime})]}),s.returnDate&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"booking-item",children:[(0,a.jsx)("div",{className:"booking-label",children:"Return Date"}),(0,a.jsx)("div",{className:"booking-value",children:s.returnDate})]}),(0,a.jsxs)("div",{className:"booking-item",children:[(0,a.jsx)("div",{className:"booking-label",children:"Return Time"}),(0,a.jsx)("div",{className:"booking-value",children:s.returnTime})]})]})]}),(0,a.jsx)("div",{className:"separator"}),(0,a.jsxs)("div",{className:"summary-details",children:[(0,a.jsxs)("div",{className:"summary-row",children:[(0,a.jsx)("span",{className:"label",children:"Vehicle"}),(0,a.jsx)("span",{children:s.vehicleName})]}),(0,a.jsxs)("div",{className:"summary-row",children:[(0,a.jsx)("span",{className:"label",children:"Distance"}),(0,a.jsx)("span",{children:s.distance})]}),(0,a.jsxs)("div",{className:"summary-row",children:[(0,a.jsx)("span",{className:"label",children:"Travel Duration"}),(0,a.jsx)("span",{children:s.travelDuration})]}),(0,a.jsxs)("div",{className:"summary-row",children:[(0,a.jsx)("span",{className:"label",children:"Passengers"}),(0,a.jsx)("span",{children:s.passengerCount})]}),(0,a.jsxs)("div",{className:"summary-row",children:[(0,a.jsx)("span",{className:"label",children:"Luggage"}),(0,a.jsx)("span",{children:s.luggageCount})]})]}),(0,a.jsx)("div",{className:"separator"}),(0,a.jsxs)("div",{className:"total-row",children:[(0,a.jsx)("span",{children:"Total Amount"}),(0,a.jsxs)("span",{children:["$",s.totalFare]})]})]})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h2",{children:"Select Payment Method"})}),(0,a.jsxs)("div",{className:"card-content",children:[(0,a.jsxs)("div",{className:"payment-methods",children:[(0,a.jsxs)("div",{className:"payment-method-option disabled",children:[(0,a.jsx)("input",{type:"radio",className:"payment-method-radio",disabled:!0}),(0,a.jsxs)("div",{className:"payment-method-label",children:[(0,a.jsx)(t.x1c,{className:"icon"}),(0,a.jsx)("span",{children:"Credit/Debit Card (Disabled)"})]})]}),(0,a.jsxs)("div",{className:"payment-method-option selected",children:[(0,a.jsx)("input",{type:"radio",className:"payment-method-radio",checked:!0,readOnly:!0}),(0,a.jsxs)("div",{className:"payment-method-label",children:[(0,a.jsx)(t.lcY,{className:"icon"}),(0,a.jsx)("span",{children:"Cash Payment"})]})]})]}),r?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"confirmation-message",children:"Please confirm your cash payment on delivery"}),(0,a.jsx)("button",{className:"button button-primary",onClick:v,disabled:u,children:u?"Processing...":"Confirm Payment"}),(0,a.jsx)("button",{className:"button button-outline",onClick:()=>i(!1),disabled:u,children:"Back"})]}):(0,a.jsxs)("button",{className:"button button-primary",onClick:()=>{i(!0)},children:["Continue to Payment",(0,a.jsx)(l,{})]})]})]})]})})}},33873:e=>{"use strict";e.exports=require("path")},50590:(e,s,r)=>{Promise.resolve().then(r.bind(r,32380))},55511:e=>{"use strict";e.exports=require("crypto")},55559:(e,s,r)=>{"use strict";r.d(s,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Project\\\\urido-frontend\\\\src\\\\app\\\\components\\\\paymentPageComponents\\\\Payment.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Project\\urido-frontend\\src\\app\\components\\paymentPageComponents\\Payment.jsx","default")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},72406:()=>{},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},88454:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});var a=r(62740);r(76301);var n=r(55559);let t=()=>(0,a.jsx)("div",{children:(0,a.jsx)(n.default,{})})},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[994,935,149],()=>r(22239));module.exports=a})();